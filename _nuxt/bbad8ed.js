(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{260:function(e,t,n){var content=n(411);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(60).default)("58bd94d8",content,!0,{sourceMap:!1})},410:function(e,t,n){"use strict";var r=n(260);n.n(r).a},411:function(e,t,n){(t=n(59)(!1)).push([e.i,'.text-monospace[data-v-866208e4]{font-family:"Lucida Console",Monaco,monospace}.layout-container[data-v-866208e4]{position:absolute;top:0;bottom:0;max-width:1920px;margin-left:auto;margin-right:auto;left:0;right:0}',""]),e.exports=t},471:function(e,t,n){"use strict";n.r(t);n(53),n(26),n(51),n(52),n(17),n(18),n(64);var r=n(12),c=n(24),o=(n(232),n(27),n(152),n(19),n(6),n(2),n(3),n(4),n(5),n(405)),l=n.n(o),d=n(266),m=n(239);n(254),n(255),n(256);function f(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,c=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw c}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var v=n(257);v.keys().forEach((function(e){return v(e)}));var h={uuid:{type:Number,editable:!1},widgetX:{type:Number},widgetY:{type:Number},widgetW:{type:Number},widgetH:{type:Number},widgetTab:{type:Number}},w={Arm:{x:{type:Number,editable:!1},y:{type:Number,editable:!1}},Button:{pressed:{type:Boolean,editable:!1}},Joystick:{x:{type:Number,editable:!1},y:{type:Number,editable:!1}},Orientation:{yaw:{type:Number,editable:!1},pitch:{type:Number,editable:!1},roll:{type:Number,editable:!1},joystickX:{type:Number,editable:!1},joystickY:{type:Number,editable:!1}}},C={components:{CodeDisplay:d.a},data:function(){var e=[];return window.Widget&&(e=window.Widget.SUBCLASSES.map((function(e){return{name:e.name,type:e}}))).push({name:"Widget",type:window.Widget}),{widgetTypes:e,selectedWidget:e[0]}},methods:{generateCodeBuilder:function(e){if(null===e)return this.generateGridUiMethods();if("Widget"===e.name)return"";for(var t=(e=e.type).name,n=window.Widget.prototype.PROPERTIES,r="",o="",l=0,d=Object.entries(e.prototype.PROPERTIES);l<d.length;l++){var f=Object(c.a)(d[l],2),y=f[0],v=f[1];if(!(y in n)){var h=m.b(v,!1);r+="\n    static JSValue ".concat(y,"(JSContext* ctx_, JSValueConst thisVal, int argc, JSValueConst* argv) {\n        auto& builder = builderOpaque<gridui::builder::").concat(t,">(thisVal);\n        builder.").concat(y,"(jac::ValueWeak(ctx_, argv[0]).to<").concat(h,">());\n        return JS_DupValue(ctx_, thisVal);\n    }\n"),o+='\n        if(name == "'.concat(y,'") return ').concat(y,";")}}if(0!==Object.entries(e.prototype.EVENTS).length){o+="\n";for(var w=0,C=Object.entries(e.prototype.EVENTS);w<C.length;w++){var j=Object(c.a)(C[w],2)[1];o+='\n        if(name == "'.concat(j,'") return &builderCallbackImpl<builder::').concat(t,", ").concat(t,", &builder::").concat(t,"::").concat(j,">;")}}return'#pragma once\n\n#include <jac/machine/functionFactory.h>\n#include <gridui.h>\n\n#include "../widgets/_common.h"\n\nnamespace gridui_jac {\n\nclass '.concat(t,"Builder {").concat(r,'\npublic:\n    static JSCFunction *getPropFunc(const AtomString& name) {\n        using namespace gridui;\n\n        if(name == "css") return builderCss<builder::').concat(t,'>;\n        if(name == "finish") return builderFinish<WidgetTypeId::').concat(t,", builder::").concat(t,", ").concat(t,">;\n").concat(o,"\n\n        return nullptr;\n    }\n};\n\n};\n")},generateRuntimeProps:function(e,t,n){for(var r=window.Widget.prototype.PROPERTIES,o="",l="",d=0,f=Object.entries(t);d<f.length;d++){var y=Object(c.a)(f[d],2),v=y[0],h=y[1];if(!1===n||!(v in r)){var w=m.b(h,!1);if(!1!==h.editable){var C="set"+v.substring(0,1).toUpperCase()+v.substring(1);l+='\n        if(name == "'.concat(v,'") {\n            *getter = ').concat(v,";\n            *setter = ").concat(C,";\n            return;\n        }"),o+="\n    static JSValue ".concat(C,"(JSContext* ctx_, JSValueConst thisVal, JSValueConst val) {\n        auto& widget = widgetOpaque<gridui::").concat(e,">(thisVal);\n        widget.").concat(C,"(jac::ValueWeak(ctx_, val).to<").concat(w,">());\n        return JS_UNDEFINED;\n    }")}else l+='\n        if(name == "'.concat(v,'") {\n            *getter = ').concat(v,";\n            return;\n        }");o+="\n    static JSValue ".concat(v,"(JSContext* ctx_, JSValueConst thisVal) {\n        auto& widget = widgetOpaque<gridui::").concat(e,">(thisVal);\n        return jac::Value::from(ctx_, widget.").concat(v,"()).loot().second;\n    }\n")}}return[o,l]},generateCodeRuntime:function(e){if(null===e)return this.generateDTsFile();var t=e.name;e="Widget"===t?{prototype:{PROPERTIES:h}}:e.type;var n=this.generateRuntimeProps(t,e.prototype.PROPERTIES),r=Object(c.a)(n,2),o=r[0],l=r[1],d=this.generateRuntimeProps(t,w[t]||{},!1),m=Object(c.a)(d,2);return o+=m[0],l+=m[1],'#pragma once\n\n#include <jac/machine/functionFactory.h>\n#include <gridui.h>\n#include "./_common.h"\n\nnamespace gridui_jac {\n\nclass '.concat(t,"Widget {").concat(o,"\npublic:\n    static void getProperty(const AtomString& name, qjsGetter* getter, qjsSetter *setter) {").concat(l,"\n    }\n};\n\n};\n")},generateGridUiMethods:function(){var e,t="",n=f(this.widgetTypes);try{for(n.s();!(e=n.n()).done;){var r=e.value;t+='#include "./builder/'.concat(r.name.toLowerCase(),'.h"\n')}}catch(e){n.e(e)}finally{n.f()}var c,o=f(this.widgetTypes);try{for(o.s();!(c=o.n()).done;){var l=c.value;t+='#include "./widgets/'.concat(l.name.toLowerCase(),'.h"\n')}}catch(e){o.e(e)}finally{o.f()}var d,m=f(this.widgetTypes);try{for(m.s();!(d=m.n()).done;){var y=d.value;t+="".concat(y.name,"\n")}}catch(e){m.e(e)}finally{m.f()}t+="\n\n";var v,h=f(this.widgetTypes);try{for(h.s();!(v=h.n()).done;){var w=v.value;if("Widget"!==w.name){var C=w.name.substring(0,1).toLowerCase()+w.name.substring(1);t+='proto.defineProperty("'.concat(C,'", ff.newFunctionThisVariadic(std::function(&builder<gridui::builder::').concat(w.name,", gridui::").concat(w.name,">)), jac::PropFlags::Enumerable);\n")}}}catch(e){h.e(e)}finally{h.f()}t+="\n\n";var j,S="",x=f(this.widgetTypes);try{for(x.s();!(j=x.n()).done;){var O=j.value;"Widget"!==O.name&&(t+="".concat(S,'if(literalEqual(wName, wNameLen, "').concat(O.name,'")) getFunc = ').concat(O.name,"Builder::getPropFunc(propName);\n"),S="else ")}}catch(e){x.e(e)}finally{x.f()}t+="\n\n";var E,T=f(this.widgetTypes);try{for(T.s();!(E=T.n()).done;){var W=E.value;"Widget"!==W.name&&(t+="case WidgetTypeId::".concat(W.name,": ").concat(W.name,"Widget::getProperty(propName, &getter, &setter); break;\n"))}}catch(e){T.e(e)}finally{T.f()}return t+="\n\n"},generateDTsFile:function(){for(var e=window.Widget.prototype.PROPERTIES,t="",n=0,r=Object.entries(h);n<r.length;n++){var o=Object(c.a)(r[n],2),l=o[0],d=o[1],y=m.e(d,!1);!1===d.editable?t+="\n          readonly ".concat(l,": ").concat(y):t+="\n          ".concat(l,": ").concat(y)}var v,C="",j="",S="",x=f(this.widgetTypes);try{for(x.s();!(v=x.n()).done;){var O=v.value;if("Widget"!==O.name){var E=O.name.substring(0,1).toLowerCase()+O.name.substring(1);j+="\n        interface ".concat(O.name," extends Base {"),S+="\n        interface ".concat(O.name," extends Base {");for(var T=0,W=Object.entries(O.type.prototype.PROPERTIES);T<W.length;T++){var k=Object(c.a)(W[T],2),N=k[0],R=k[1];if(!(N in e)){var V=m.e(R,!1);j+="\n            ".concat(N,"(").concat(N,": ").concat(V,"): ").concat(O.name),R.editable&&(S+="\n            ".concat(N,": ").concat(V))}}for(var _=0,P=Object.entries(w[O.name]||{});_<P.length;_++){var B=Object(c.a)(P[_],2),I=B[0],J=B[1],A=m.e(J,!1);!1!==J.editable?S+="\n            ".concat(I,": ").concat(A):S+="\n            readonly ".concat(I,": ").concat(A)}if(0!==Object.entries(O.type.prototype.EVENTS||{}).length){j+="\n";for(var F=0,U=Object.entries(O.type.prototype.EVENTS);F<U.length;F++){var L=Object(c.a)(U[F],2)[1];j+="\n            ".concat(L,"(callback: (").concat(E,": widget.").concat(O.name,") => void): ").concat(O.name)}}j+="\n\n            finish(): widget.".concat(O.name),j+="\n        }\n",S+="\n        }\n",C+="\n        ".concat(E,"(x: number, y: number, w: number, h: number, uuid?: number, tab?: number): builder.").concat(O.name)}}}catch(e){x.e(e)}finally{x.f()}return'declare module "gridui" {\n    namespace widget {\n        interface Base {'.concat(t,"\n          css(key: string): string\n          setCss(key: string, value: string): void\n        }\n      ").concat(S,"    }\n\n    namespace builder {\n        interface Base {\n            css(key: string, value: string): this\n        }\n").concat(j,"    }\n\n    class Builder {").concat(C,"\n    }\n\n    /**\n     * Initialize GridUI.\n     * @param ownerName name of the owner, must match the name entered in RBController app.\n     * @param deviceName name of this device, visible in the RBController app.\n     * @param builderCallback callback, which receives the builder instance that can be used to create widgets.\n     */\n    function begin(ownerName: string, deviceName: string, builderCallback: (builder: Builder) => void): void\n\n    /**\n     * Stop GridUI.\n     */\n    function end(): void\n\n    /**\n     * Set current tab index\n     */\n    function changeTab(index: number): void\n\n    /**\n     * Send a message to the integrated terminal at the top of the UI.\n     */\n    function log(message: string): void\n\n    /**\n     * Returns included GridUI version as number, to be compared with hex representation of the version.\n     * \n     * For example, for version 5.1.0, do: `gridui.version() >= 0x050100`\n     */\n    function version(): number\n}\n")},convertToRbJsonValue:function(e,t){switch(t.type){case Boolean:return"new rbjson::Bool(".concat(e,")");default:return e}},onDownloadClick:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,c,o,d,m,y,v,element;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new l.a,r=f(e.widgetTypes);try{for(r.s();!(c=r.n()).done;)o=c.value,d=o.name.toLowerCase()+".h","Widget"===o.name&&(d="base.h"),(m=e.generateCodeBuilder(o))&&n.file("builder/".concat(d),m),(y=e.generateCodeRuntime(o))&&n.file("widgets/".concat(d),y)}catch(e){r.e(e)}finally{r.f()}return t.next=5,n.generateAsync({type:"blob"});case 5:v=t.sent,(element=document.createElement("a")).setAttribute("href",window.URL.createObjectURL(v)),element.setAttribute("download","gridui_generated.zip"),element.style.display="none",document.body.appendChild(element),element.click(),document.body.removeChild(element);case 13:case"end":return t.stop()}}),t)})))()}}},j=(n(410),n(54)),S=n(76),x=n.n(S),O=n(302),E=n(296),T=n(229),component=Object(j.a)(C,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"white layout-container d-flex justify-space-between pa-1"},[n("v-card",{staticClass:"flex-shrink-0 me-2",attrs:{width:"200px"}},[n("v-btn",{staticClass:"justify-start",attrs:{block:"",color:"secondary",large:"",text:null!==e.selectedWidget},on:{click:function(t){e.selectedWidget=null}}},[e._v("\n      gridui.h methods\n    ")]),e._v(" "),n("v-btn",{staticClass:"justify-start",attrs:{block:"",color:"secondary",large:"",text:""},on:{click:e.onDownloadClick}},[e._v("\n      Download zip\n    ")]),e._v(" "),n("v-card-title",[e._v("Widgets")]),e._v(" "),e._l(e.widgetTypes,(function(t){return n("v-btn",{key:t.name,staticClass:"justify-start",attrs:{block:"",color:"primary",large:"",text:t!==e.selectedWidget},on:{click:function(n){e.selectedWidget=t}}},[e._v("\n      "+e._s(t.name)+"\n    ")])}))],2),e._v(" "),n("code-display",{staticClass:"me-1",attrs:{value:e.generateCodeBuilder(e.selectedWidget),language:"cpp",title:"Builder"}}),e._v(" "),n("code-display",{staticClass:"ms-1",attrs:{value:e.generateCodeRuntime(e.selectedWidget),language:e.selectedWidget?"cpp":"typescript",title:"Runtime"}})],1)}),[],!1,null,"866208e4",null);t.default=component.exports;x()(component,{VBtn:O.a,VCard:E.a,VCardTitle:T.b})}}]);