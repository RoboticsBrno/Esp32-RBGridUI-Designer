(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{262:function(t,e,n){var content=n(433);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(60).default)("6882882e",content,!0,{sourceMap:!1})},263:function(t,e,n){var content=n(437);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(60).default)("3da1f17b",content,!0,{sourceMap:!1})},264:function(t,e,n){var content=n(439);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(60).default)("29027b0b",content,!0,{sourceMap:!1})},265:function(t,e,n){var content=n(442);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(60).default)("802dc958",content,!0,{sourceMap:!1})},432:function(t,e,n){"use strict";var r=n(262);n.n(r).a},433:function(t,e,n){(e=n(59)(!1)).push([t.i,'.text-monospace[data-v-6ba5d4c2]{font-family:"Lucida Console",Monaco,monospace}input[data-v-6ba5d4c2]{width:100%}',""]),t.exports=e},436:function(t,e,n){"use strict";var r=n(263);n.n(r).a},437:function(t,e,n){(e=n(59)(!1)).push([t.i,'.text-monospace[data-v-98f34ca4]{font-family:"Lucida Console",Monaco,monospace}.property-table[data-v-98f34ca4]{width:100%;border-collapse:collapse}.property-table td[data-v-98f34ca4]{padding:0 4px;max-width:140px;overflow:hidden;text-overflow:ellipsis}.property-table td[data-v-98f34ca4],.property-table th[data-v-98f34ca4]{border-bottom:1px solid #ccc}.property-table input[data-v-98f34ca4]{vertical-align:middle}.id-row[data-v-98f34ca4]{font-size:105%}.id-row td[data-v-98f34ca4]:nth-child(2){font-weight:700;color:var(--v-secondary-base)}.property-name[data-v-98f34ca4]{border-right:1px solid #ccc}',""]),t.exports=e},438:function(t,e,n){"use strict";var r=n(264);n.n(r).a},439:function(t,e,n){(e=n(59)(!1)).push([t.i,'.text-monospace[data-v-4fbaa422]{font-family:"Lucida Console",Monaco,monospace}.widget-table[data-v-4fbaa422]{width:100%;border-collapse:collapse}.widget-table td[data-v-4fbaa422]{padding:0 4px;max-width:140px;overflow:hidden;text-overflow:ellipsis;border-bottom:1px solid #ccc;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.widget-table .widget-id[data-v-4fbaa422]{cursor:pointer}.widget-table .selected[data-v-4fbaa422]{color:red}.widget-table .widget-actions[data-v-4fbaa422]{text-align:right}.widget-table th[data-v-4fbaa422]{border-bottom:1px solid #ccc}',""]),t.exports=e},441:function(t,e,n){"use strict";var r=n(265);n.n(r).a},442:function(t,e,n){(e=n(59)(!1)).push([t.i,'.text-monospace{font-family:"Lucida Console",Monaco,monospace}.layout-container{position:absolute;top:0;bottom:0;max-width:1920px;margin-left:auto;margin-right:auto;left:0;right:0}.add-button{cursor:-webkit-grab;cursor:grab;display:flex}.add-button:active{cursor:-webkit-grabbing;cursor:grabbing}#grid-card{margin:50px 0;overflow:hidden}#log{padding:3px;font-size:11px;font-family:monospace;background-color:#000;color:#62f442;white-space:pre-line;overflow-y:auto;height:60px}#grid{position:absolute;width:100%;top:60px;bottom:0}.grid-widget{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.grid-widget:before{padding:4px;margin:4px;border-bottom:2px solid #666;border-right:2px solid #666}.grid-widget:after,.grid-widget:before{position:absolute;right:0;bottom:0;z-index:10;content:""}.grid-widget:after{top:0;left:0;border:2px dashed #666!important}button.grid-widget{background-color:#eee}.grid-widget-active:after{border:3px dashed red!important}.code-card{flex:auto;min-height:50px;overflow:hidden}',""]),t.exports=e},466:function(t,e,n){"use strict";n.r(e);n(36),n(33),n(53),n(26),n(51),n(52),n(17),n(18),n(46),n(61),n(62);var r=n(237),o=n(15),c=n(24),l=(n(232),n(27),n(19),n(6),n(2),n(3),n(4),n(5),{Arm:{info:{height:51,bones:[{bmax:3.14159,amax:3.14159,bmin:-3.14159,amin:-3.14159,len:110,rmin:-1.65806,angle:-1.5708,rmax:0},{bmax:2.79253,amax:3.14159,bmin:.698132,amin:-.349066,len:130,rmin:.523599,angle:.0872664,rmax:2.96706}],radius:130,off_x:0,off_y:20}}}),d=n(13),h=n(30),f=function(){function t(e,n){Object(d.a)(this,t),this.grid=e,this.callback=n,this.widget=null,this.mouseX=0,this.mouseY=0,this.mouseMoveListener=this.onMouseMove.bind(this),this.mouseUpListener=this.onMouseUp.bind(this)}return Object(h.a)(t,[{key:"onAddWidgetDown",value:function(t,e){0===t.button&&(this.mouseX=t.clientX,this.mouseY=t.clientY,this.widget=new window[e.name](this,0),Object.assign(this.widget.el.style,{zIndex:1e3,cursor:"grabbing",pointerEvents:"auto"}),document.body.appendChild(this.widget.el),window.addEventListener("mousemove",this.mouseMoveListener),window.addEventListener("mouseup",this.mouseUpListener),this.widget.applyState(l[e.name]||{}),this.widget.updatePosition())}},{key:"onMouseMove",value:function(t){this.mouseX=t.clientX,this.mouseY=t.clientY,this.widget.updatePosition()}},{key:"onMouseUp",value:function(t){window.removeEventListener("mousemove",this.mouseMoveListener),window.removeEventListener("mouseup",this.mouseUpListener);var e=this.widget.w*this.grid.scaleX,n=this.widget.h*this.grid.scaleY,r=this.grid.pxPosToCoordinates(t.clientX-e/2,t.clientY-n/2),o=r.x,c=r.y;o>-this.widget.w&&c>-this.widget.h&&o<this.grid.COLS&&c<this.grid.ROWS&&this.callback(this.widget.constructor.name,o,c,this.widget.w,this.widget.h),document.body.removeChild(this.widget.el),this.widget=null}},{key:"calculatePxPos",value:function(t){var e=t.w*this.grid.scaleX,n=t.h*this.grid.scaleY;return{x:this.mouseX-e/2,y:this.mouseY-n/2,w:e,h:n}}}]),t}(),v=n(242)(),y=function(){function t(e){Object(d.a)(this,t),this.grid=e,this.clipboard=[]}return Object(h.a)(t,[{key:"onCopy",value:function(t,e){if(0===e.length)return this.clipboard=[],void t.$notify({group:"warn",title:"No widgets are selected in the layout.",text:"Select some before copying."});this.clipboard=e.map((function(t){return{type:t.constructor.name,extra:t.getState()}})),t.$notify({group:"info",title:"".concat(this.clipboard.length," widgets copied"),text:"Press 'Ctrl+V' to paste them in."})}},{key:"onPaste",value:function(t,e,n){var r=this;if(0===this.clipboard.length)return t.$notify({group:"error",title:"The clipboard is empty!",text:"Select some widgets and press 'Ctrl+C'."}),null;for(var rect={x1:this.clipboard[0].extra.x,y1:this.clipboard[0].extra.y,x2:this.clipboard[0].extra.x+this.clipboard[0].extra.w,y2:this.clipboard[0].extra.y+this.clipboard[0].extra.h},i=1;i<this.clipboard.length;++i){var o=this.clipboard[i].extra;rect.x1=Math.min(rect.x1,o.x),rect.y1=Math.min(rect.y1,o.y),rect.x2=Math.max(rect.x2,o.x+o.w),rect.y2=Math.max(rect.y2,o.y+o.h)}var c=this.grid.pxPosToCoordinates(e,n),l=c.x,d=c.y;l=Math.max(0,l),d=Math.max(0,d);var h=l-(rect.x1+(rect.x2-rect.x1)/2),f=d-(rect.y1+(rect.y2-rect.y1)/2);return this.clipboard.map((function(t){var e=v(t);return e.extra.x=r.grid.roundToPrecision(e.extra.x+h,.5),e.extra.y=r.grid.roundToPrecision(e.extra.y+f,.5),e}))}}]),t}(),m=(n(48),n(455)),w=n(23),x=n(16),C=n(8);function _(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return S(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(C.a)(t);if(e){var o=Object(C.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(x.a)(this,n)}}var O=n(242)(),I=function(){function t(e){Object(d.a)(this,t),this.grid=e}return Object(h.a)(t,[{key:"undo",value:function(){throw new Error("Not implemented")}},{key:"redo",value:function(){throw new Error("Not implemented")}}]),t}(),j=function(t){Object(w.a)(n,t);var e=k(n);function n(t,r){var o;return Object(d.a)(this,n),(o=e.call(this,t)).uuid=r.uuid,o.type=r.constructor.name,o.state=null,o}return Object(h.a)(n,[{key:"undo",value:function(){null!==this.state&&(this.grid.addWidget(this.uuid,this.type,this.state),this.state=null)}},{key:"redo",value:function(){var t=this.grid.getWidgetByUuid(this.uuid);null!==t&&(this.state=t.getState(),this.grid.removeWidget(t))}}]),n}(I),T=function(t){Object(w.a)(n,t);var e=k(n);function n(t,r,o,c){var l;return Object(d.a)(this,n),(l=e.call(this,t,{})).uuid=r,l.type=o,l.state=c,l}return Object(h.a)(n,[{key:"undo",value:function(){Object(m.a)(Object(C.a)(n.prototype),"redo",this).call(this)}},{key:"redo",value:function(){Object(m.a)(Object(C.a)(n.prototype),"undo",this).call(this)}}]),n}(j),L=function(t){Object(w.a)(n,t);var e=k(n);function n(t,r,o){var c;return Object(d.a)(this,n),(c=e.call(this,t)).uuid=r.uuid,c.newPos=r.pos(),c.origPos=o,c}return Object(h.a)(n,[{key:"undo",value:function(){var t=this.grid.getWidgetByUuid(this.uuid);null!==t&&t.applyState(this.origPos)}},{key:"redo",value:function(){var t=this.grid.getWidgetByUuid(this.uuid);null!==t&&t.applyState(this.newPos)}}]),n}(I),P=function(t){Object(w.a)(n,t);var e=k(n);function n(t,r,o,c,l){var h;return Object(d.a)(this,n),(h=e.call(this,t)).uuid=r.uuid,h.name=o,h.original=O(c),h.newer=O(l),h}return Object(h.a)(n,[{key:"undo",value:function(){var t=this.grid.getWidgetByUuid(this.uuid);null!==t&&t.applyState(Object.fromEntries([[this.name,this.original]]))}},{key:"redo",value:function(){var t=this.grid.getWidgetByUuid(this.uuid);null!==t&&t.applyState(Object.fromEntries([[this.name,this.newer]]))}}]),n}(I),E=function(t){Object(w.a)(n,t);var e=k(n);function n(t,r,o){var c;return Object(d.a)(this,n),(c=e.call(this)).grid=t,c.original=r,c.newer=o,c}return Object(h.a)(n,[{key:"undo",value:function(){this.grid.reset(this.original)}},{key:"redo",value:function(){this.grid.reset(this.newer)}}]),n}(I),W=function(t){Object(w.a)(n,t);var e=k(n);function n(t,r,o,c){var l;return Object(d.a)(this,n),(l=e.call(this)).designer=t,l.grid=r,l.origTabCount=o,l.newTabCount=c,l.widgetDeletes=[],l}return Object(h.a)(n,[{key:"undo",value:function(){this.setCount(this.newTabCount,this.origTabCount)}},{key:"redo",value:function(){this.setCount(this.origTabCount,this.newTabCount)}},{key:"setCount",value:function(t,e){var n=this;if(t>e&&(this.widgetDeletes=this.grid.widgets.filter((function(e){return e.tab===t-1})).map((function(t){return new j(n.grid,t)})),this.widgetDeletes.forEach((function(t){return t.redo()}))),this.grid.setTabCount(e),this.designer.tabsCount=e,this.designer.activeTab=this.grid.currentTabIdx,t<e){var r,o=_(this.widgetDeletes);try{for(o.s();!(r=o.n()).done;){r.value.undo()}}catch(t){o.e(t)}finally{o.f()}this.widgetDeletes=[]}}}]),n}(I),R=function(){function t(){Object(d.a)(this,t),this.stack=[],this.currentIdx=0}return Object(h.a)(t,[{key:"push",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0!==e.length){this.stack.splice(this.currentIdx,this.stack.length-this.currentIdx,e),this.stack.length>64&&this.stack.shift(),this.currentIdx=this.stack.length;for(var r=0,o=e;r<o.length;r++){var c=o[r];c.redo()}}}},{key:"redo",value:function(){if(this.currentIdx!==this.stack.length){var t,e=_(this.stack[this.currentIdx]);try{for(e.s();!(t=e.n()).done;){t.value.redo()}}catch(t){e.e(t)}finally{e.f()}++this.currentIdx}}},{key:"undo",value:function(){if(0!==this.currentIdx){--this.currentIdx;var t,e=_(this.stack[this.currentIdx]);try{for(e.s();!(t=e.n()).done;){t.value.undo()}}catch(t){e.e(t)}finally{e.f()}}}},{key:"canUndo",value:function(){return this.currentIdx>0}},{key:"canRedo",value:function(){return this.currentIdx<this.stack.length}},{key:"clear",value:function(){this.currentIdx=0,this.stack=[]}}]),t}(),U=(n(297),n(92),n(239));function A(t,e){var n=t.constructor.name,r=U.c(t,"id");return"".concat(n).concat(e," ").concat(r,";")}function N(t,e){var n=t.some((function(t){return U.c(t,"tab")>0})),r=t.map((function(t){return function(t,e){var n=t.constructor.name,r=Object.getPrototypeOf(t),o=U.c(t,"id"),l="".concat(o,"(\n            UI.").concat(n.toLowerCase(),"(");l+=["x","y","w","h"].map((function(e){return U.c(t,e)})).join(", "),l+=", ".concat(t.uuid),e&&(l+=", ".concat(t.tab)),l+=")\n";for(var d=0,h=Object.entries(r.PROPERTIES);d<h.length;d++){var f=Object(c.a)(h[d],2),v=f[0],y=f[1];if(!y.ignoreInBuilder&&!U.f(t,v,y))if("Arm"!==n||"info"!==v){var m=U.c(t,v,y);l+=U.a(v,m,"                ")}else l+="                .info(rkArmGetInfo())\n"}return l+="        )"}(t,n)})).join(",\n        "),o=t.map((function(t){return A(t,"&")})).join("\n    "),l=t.map((function(t){return A(t,"")})).join("\n    "),d=t.map((function(t){return e=t,n=U.c(e,"id"),"Layout.".concat(n," = ").concat(n,".finish();");var e,n})).join("\n    "),h=n?264448:0,f=t.reduce((function(t,e){return e.MIN_LIBRARY_VERSION>t?e.MIN_LIBRARY_VERSION:t}),h).toString(16).padStart(6,"0");return"// clang-format off\n\n// AUTOGENERATED FILE, DO NOT EDIT\n// Generated by ".concat(window.location.href,"\n// Layout: ").concat(JSON.stringify(e),'\n\n// Usage: include this file, where needed, and in *one* .cpp file,\n// define also GRIDUI_LAYOUT_DEFINITION just before the layout like this:\n//\n//    #define GRIDUI_LAYOUT_DEFINITION\n//    #include "layout.h"\n//    using namespace gridui;\n//\n// The layout.h should also be the last included header. Then, in your code:\n//\n//    auto builder = Layout.begin();\n//    builder.Button1.onPress([](Button&) { ... })\n//    ...\n//    builder.commit();\n\n#pragma once\n\n#include <esp_log.h>\n#include "gridui.h"\n\nnamespace gridui {\n\n#ifndef RB_GRIDUI_VERSION\n#define RB_GRIDUI_VERSION 0x040000\n#endif\n\nstatic_assert(RB_GRIDUI_VERSION >= 0x').concat(f,',\n    "Your RBGridUi library version is too low for this layout, please update to ').concat(f,'.");\n\nclass _Layout;\n\nnamespace builder {\nclass _LayoutBuilder {\n    friend class gridui::_Layout;\n\n    _LayoutBuilder() :\n        ').concat(r,"\n    {\n    }\n\npublic:\n    void commit();\n\n    ").concat(o,'\n};\n\n}; // namespace builder\n\nclass _Layout {\n    friend class builder::_LayoutBuilder;\npublic:\n    _Layout() {}\n\n    builder::_LayoutBuilder begin() {\n        static bool called = false;\n        if(called) {\n            ESP_LOGE("GridUILayout", "Layout.begin() was called more than once, this is an error!");\n        }\n        called = true;\n        return builder::_LayoutBuilder();\n    }\n\n    void changeTab (uint16_t index) {\n        UI.changeTab(index);\n    }\n\n    ').concat(l,"\n};\n\nextern _Layout Layout;\n#ifdef GRIDUI_LAYOUT_DEFINITION\n_Layout Layout;\n#endif\n\nnamespace builder {\n\nvoid _LayoutBuilder::commit() {\n    ").concat(d,"\n    UI.commit();\n}\n\n};\n\n};\n")}function D(t,e){var n=t.constructor.name,r=U.c(t,"id");return"readonly ".concat(r,": ").concat(e,".").concat(n)}function V(t,e){var n=t.some((function(t){return U.c(t,"tab")>0})),r=t.map((function(t){return function(t,e){var n=t.constructor.name,r=Object.getPrototypeOf(t),o=n.substring(0,1).toLowerCase()+n.substring(1),l=U.c(t,"id"),d="".concat(l,": builder.").concat(o,"(");d+=["x","y","w","h"].map((function(e){return U.c(t,e)})).join(", "),d+=", ".concat(t.uuid),e&&(d+=", ".concat(t.tab)),d+=")";for(var h=0,f=Object.entries(r.PROPERTIES);h<f.length;h++){var v=Object(c.a)(f[h],2),y=v[0],m=v[1];if(!m.ignoreInBuilder&&!U.f(t,y,m)){var w=U.c(t,y,m);d=(d+="\n"+U.a(y,w,"                    ")).substring(0,d.length-1)}}return d}(t,n)})).join(",\n                "),o=t.map((function(t){return D(t,"gridui.builder")})).join("\n    "),l=t.map((function(t){return D(t,"gridui.widget")})).join("\n    "),d=n?264448:0,h=t.reduce((function(t,e){return e.MIN_LIBRARY_VERSION>t?e.MIN_LIBRARY_VERSION:t}),d).toString(16).padStart(6,"0");return"// AUTOGENERATED FILE, DO NOT EDIT\n// Generated by ".concat(window.location.href,"\n// Layout: ").concat(JSON.stringify(e),'\n\n// Add this as a file layout.ts to your project.\n//\n// Inicialization:\n//\n//   import Layout from "./layout.js"\n//\n//   Layout.begin("Owner name", "Device Name", builder => {\n//\n//     // Add calback handlers here, like this:\n//     builder.Button1.onPress(btn => {\n//         console.log("press")\n//     })\n//\n//   })\n//\n// Usage later in code:\n//\n//   Layout.Button1.color = "red";\n//   console.log(Layout.Button1.pressed)\n//\n\nimport * as gridui from "gridui"\n\nif(gridui.version() < 0x').concat(h,') {\n    throw new Error("Your RBGridUi library version is too low for this layout, please update to ').concat(h,'.")\n}\n\ninterface LayoutBuilder {\n    ').concat(o,"\n}\n\ninterface Layout {\n    ").concat(l,"\n\n    begin(ownerName: string, deviceName: string, builderCallback?: (layoutBuilder: LayoutBuilder) => void): void\n\n    changeTab(index: number): void\n    log(message: string): void\n}\n\nconst layout = {\n    begin(ownerName: string, deviceName: string, builderCallback?: (layoutBuilder: LayoutBuilder) => void) {\n        gridui.begin(ownerName, deviceName, (builder) => {\n            const layoutBuilder: LayoutBuilder = {\n                ").concat(r,"\n            }\n\n            if(builderCallback !== undefined) {\n                builderCallback(layoutBuilder)\n            }\n\n            for(const key in layoutBuilder) {\n                layout[key] = layoutBuilder[key].finish()\n                layoutBuilder[key] = undefined\n            }\n        })\n    },\n    changeTab: gridui.changeTab,\n    log: gridui.log,\n} as Layout\n\nexport default layout\n")}var B=n(266),M={props:{},data:function(){return{show:!1,value:"",error:""}},watch:{show:function(t){t&&(this.value="")},value:function(t){if(this.error="",""!==t){var e=function(text){for(var t=0,e=[/^\/\/ Layout: (.+)$/m,/^\s*({\s*"[\s\S]+)/];t<e.length;t++){var n=e[t],r=text.match(n);if(null!==r)try{return JSON.parse(r[1])}catch(t){}}return null}(t)||function(text){for(var t=0,e=[/^\/\/ Layout: (.+)$/m,/^\s*({\s*"[\s\S]+)/];t<e.length;t++){var n=e[t],r=text.match(n);if(null!==r)try{return JSON.parse(r[1])}catch(t){}}return null}(t);null===e?this.error="Failed to parse the layout!":(this.show=!1,this.$emit("import-layout",e),this.$notify({group:"success",title:"Layout imported",text:"The layout was successfully imported. You can press ctrl+Z to undo."}))}}},methods:{}},Y=n(54),$=n(76),G=n.n($),X=n(302),K=n(296),z=n(229),J=n(467),F=n(299),Z=n(468),component=Object(Y.a)(M,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-dialog",{staticStyle:{"z-index":"1000"},attrs:{width:"700"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({staticClass:"justify-start",attrs:{block:"",text:"",color:"secondary"}},r),[n("v-icon",[t._v("mdi-import")]),t._v("\n        Import layout\n      ")],1)]}}]),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[t._v(" "),n("v-card",[n("v-card-title",[t._v(" Import layout ")]),t._v(" "),n("v-card-text",[n("p",[t._v("\n          Paste the C++ header file generated by this designer into the area\n          below.\n        ")]),t._v(" "),n("v-textarea",{staticClass:"mb-0",attrs:{outlined:"",label:"Paste your layout.h here",height:"200px","error-messages":t.error,autofocus:"","no-resize":""},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1)],1)],1)}),[],!1,null,"3fe2961e",null),H=component.exports;G()(component,{VBtn:X.a,VCard:K.a,VCardText:z.a,VCardTitle:z.b,VDialog:J.a,VIcon:F.a,VTextarea:Z.a});n(115),n(152);var Q=n(242),tt=n.n(Q),et=n(248),nt=n.n(et);function it(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ot(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ot(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function ot(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var at={props:{name:{type:String,required:!0},value:{type:Object,required:!0}},data:function(){return{show:!1,originalValue:null}},watch:{show:function(){this.show?this.originalValue=tt()()(this.value):nt()(this.value,this.originalValue)||this.$emit("change",this.value)}},methods:{onKeyChange:function(t,e){if(t!==e){for(var n={},r=0,o=Object.entries(this.value);r<o.length;r++){var l=Object(c.a)(o[r],2),d=l[0],h=l[1];d===t?n[e]=h:n[d]=h}this.$emit("input",n)}},onNewPropertyClick:function(){""in this.value||this.$set(this.value,"",""),this.$nextTick((function(){var t,e=it(document.querySelectorAll("input.object-property-name"));try{for(e.s();!(t=e.n()).done;){var input=t.value;if(""===input.value){input.focus();break}}}catch(t){e.e(t)}finally{e.f()}}))}}},st=(n(432),n(463)),ct=Object(Y.a)(at,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{staticStyle:{"z-index":"1000"},attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({attrs:{text:"",color:"primary",small:""}},r),[t._v(" edit ")])]}}]),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[t._v(" "),n("v-card",{staticStyle:{"overflow-y":"auto"},attrs:{"max-height":"600px"}},[n("v-card-title",[t._v(" Editing '"+t._s(t.name)+"' ")]),t._v(" "),n("v-simple-table",[n("thead",[n("tr",[n("th",[t._v("Name")]),t._v(" "),n("th",[t._v("Value")]),t._v(" "),n("th")])]),t._v(" "),n("tbody",[t._l(t.value,(function(e,r){return n("tr",{key:r},[n("td",{staticStyle:{width:"150px"}},[n("input",{staticClass:"object-property-name",staticStyle:{"font-weight":"bold"},attrs:{type:"text",tabindex:"0"},domProps:{value:r},on:{change:function(e){return t.onKeyChange(r,e.target.value)}}})]),t._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.value[r],expression:"value[key]"}],attrs:{tabindex:"0",type:"text"},domProps:{value:t.value[r]},on:{input:function(e){e.target.composing||t.$set(t.value,r,e.target.value)}}})]),t._v(" "),n("td",{staticStyle:{width:"1%"}},[n("v-btn",{attrs:{icon:""},on:{click:function(e){return t.$delete(t.value,r)}}},[n("v-icon",[t._v("mdi-delete")])],1)],1)])})),t._v(" "),n("tr",[n("td",{staticClass:"text-right",attrs:{colspan:"3"}},[n("v-btn",{attrs:{text:"",color:"primary"},on:{click:t.onNewPropertyClick}},[n("v-icon",[t._v("mdi-plus")]),t._v(" New property\n            ")],1)],1)])],2)])],1)],1)}),[],!1,null,"6ba5d4c2",null),lt=ct.exports;G()(ct,{VBtn:X.a,VCard:K.a,VCardTitle:z.b,VDialog:J.a,VIcon:F.a,VSimpleTable:st.a});var ut={components:{ObjectPropertyEditor:lt},props:{properties:{type:Object,required:!0},uuid:{type:Number,required:!0}},data:function(){return{originalInput:{},originalChange:{},models:{}}},watch:{uuid:function(){-1!==this.uuid&&(this.originalChange=this.copyProperties())},properties:{deep:!0,handler:function(){this.originalInput=this.copyProperties(),this.models=this.copyProperties()}},models:{deep:!0,handler:function(){for(var t=0,e=Object.entries(this.models);t<e.length;t++){var n=Object(c.a)(e[t],2),r=n[0],o=n[1];this.propEquals(o,this.originalInput[r])||(this.$emit("prop-input",r,o),this.$set(this.originalInput,r,o))}}}},methods:{propEquals:function(a,b){return a instanceof Object?nt()(a,b,{strict:!0}):a===b},copyProperties:function(){for(var t={},e=0,n=Object.values(this.properties);e<n.length;e++)for(var r=n[e],o=0,l=Object.entries(r);o<l.length;o++){var d=Object(c.a)(l[o],2),h=d[0],f=d[1];t[h]=tt()()(f.value)}return t},onValueChange:function(t){var e=this.models[t],n=this.originalChange[t];this.propEquals(e,n)||(this.$emit("prop-change",t,e,n),this.$set(this.originalChange,t,e))}}},ht=(n(436),Object(Y.a)(ut,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pa-2"},[0!==Object.keys(t.properties).length?n("table",{staticClass:"property-table"},[t._l(t.properties,(function(e,section){return[n("tr",{key:section},[n("th",{staticClass:"primary--text pb-1 pt-3",attrs:{colspan:"2"}},[t._v(t._s(section))])]),t._v(" "),t._l(e,(function(e,r){return n("tr",{key:r,class:{"id-row":"id"===r}},[n("td",{staticClass:"text-right property-name",staticStyle:{width:"90px"}},[n("b",[t._v(t._s(r))])]),t._v(" "),n("td",{staticClass:"text-no-wrap"},[e.editable&&e.type===Boolean?n("input",{directives:[{name:"model",rawName:"v-model",value:t.models[r],expression:"models[name]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.models[r])?t._i(t.models[r],null)>-1:t.models[r]},on:{input:function(e){return t.onValueChange(r)},change:function(e){var n=t.models[r],o=e.target,c=!!o.checked;if(Array.isArray(n)){var l=t._i(n,null);o.checked?l<0&&t.$set(t.models,r,n.concat([null])):l>-1&&t.$set(t.models,r,n.slice(0,l).concat(n.slice(l+1)))}else t.$set(t.models,r,c)}}}):e.editable&&e.options?n("select",{directives:[{name:"model",rawName:"v-model",value:t.models[r],expression:"models[name]"}],staticStyle:{width:"100%"},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.models,r,e.target.multiple?n:n[0])},function(e){return t.onValueChange(r)}]}},t._l(e.options,(function(e){return n("option",{key:e},[t._v(t._s(e))])})),0):e.editable&&e.type===Number?n("input",{directives:[{name:"model",rawName:"v-model",value:t.models[r],expression:"models[name]"}],staticStyle:{width:"100%"},attrs:{type:"number",step:e.step},domProps:{value:t.models[r]},on:{change:function(e){return t.onValueChange(r)},input:function(e){e.target.composing||t.$set(t.models,r,e.target.value)}}}):e.editable&&e.type===String?n("div",{staticClass:"d-flex"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.models[r],expression:"models[name]"}],staticStyle:{"min-width":"80%"},attrs:{type:"text"},domProps:{value:t.models[r]},on:{change:function(e){return t.onValueChange(r)},input:function(e){e.target.composing||t.$set(t.models,r,e.target.value)}}}),t._v(" "),e.isColor?n("input",{directives:[{name:"model",rawName:"v-model",value:t.models[r],expression:"models[name]"}],staticClass:"py-1",staticStyle:{"min-width":"10%"},attrs:{type:"color"},domProps:{value:t.models[r]},on:{change:function(e){return t.onValueChange(r)},input:function(e){e.target.composing||t.$set(t.models,r,e.target.value)}}}):t._e()]):e.editable&&e.type===Object?n("object-property-editor",{attrs:{name:r},on:{change:function(e){return t.onValueChange(r)}},model:{value:t.models[r],callback:function(e){t.$set(t.models,r,e)},expression:"models[name]"}}):n("div",{staticClass:"grey--text text--lighten-1",staticStyle:{cursor:"not-allowed"}},[t._v("\n            "+t._s(t.models[r])+"\n          ")])],1)])}))]}))],2):n("div",{staticClass:"py-12 grey--text text-center"},[t._v("\n    Select a single widget.\n  ")])])}),[],!1,null,"98f34ca4",null).exports);function ft(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return pt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function pt(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var gt={props:{widgets:{type:Array,required:!0},selectedWidgets:{type:Array,required:!0}},data:function(){return{hidden:{}}},computed:{widgetsSorted:function(){var t=this.widgets.slice();return t.sort((function(a,b){return a.id.toLowerCase().localeCompare(b.id.toLowerCase())})),t}},methods:{onSelectClick:function(t,e,n){if(n.shiftKey){var r;if(this.selectedWidgets.length>0){var o=this.widgetsSorted.indexOf(this.selectedWidgets[this.selectedWidgets.length-1]);r=o<t?this.widgetsSorted.slice(o,t+1):this.widgetsSorted.slice(t,o+1)}else r=[e];this.$emit("clear-selection",0);var c,l=ft(r);try{for(l.s();!(c=l.n()).done;){var d=c.value;this.$emit("select-widget",d,!0)}}catch(t){l.e(t)}finally{l.f()}}else n.ctrlKey||this.$emit("clear-selection",0),this.$emit("select-widget",e,n.ctrlKey)},onHideClick:function(t){var e=t.uuid in this.hidden,n=[t];this.selectedWidgets.includes(t)&&(n=this.selectedWidgets);var r,o=ft(n);try{for(o.s();!(r=o.n()).done;){var c=r.value;e?(this.$delete(this.hidden,c.uuid),c.el.style.visibility="unset"):(this.$set(this.hidden,c.uuid,!0),c.el.style.visibility="hidden")}}catch(t){o.e(t)}finally{o.f()}}}},vt=(n(438),Object(Y.a)(gt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pa-2",staticStyle:{overflow:"auto","max-height":"400px"}},[n("table",{staticClass:"widget-table"},[t._m(0),t._v(" "),t._l(t.widgetsSorted,(function(e,r){return n("tr",{key:e.uuid},[n("td",{class:{"widget-id":!0,selected:t.selectedWidgets.includes(e)},on:{"!click":function(n){return n.preventDefault(),n.target!==n.currentTarget?null:t.onSelectClick(r,e,arguments[0])}}},[t._v("\n        "+t._s(e.id)+"\n      ")]),t._v(" "),n("td",{staticClass:"widget-actions"},[n("v-btn",{attrs:{icon:"",title:"Hide this widget",small:"",color:e.uuid in t.hidden?"orange":void 0},on:{click:function(n){return t.onHideClick(e)}}},[e.uuid in t.hidden?n("v-icon",[t._v("mdi-eye-off")]):n("v-icon",[t._v("mdi-eye")])],1)],1)])}))],2)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",{attrs:{colspan:"2"}},[this._v("Widgets")])])}],!1,null,"4fbaa422",null)),yt=vt.exports;G()(vt,{VBtn:X.a,VIcon:F.a});n(254),n(255),n(256);function mt(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function bt(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?mt(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):mt(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function wt(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return xt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function xt(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var Ct=n(440),_t=n(257);_t.keys().forEach((function(t){return _t(t)}));var St=null,kt=null,Ot={cols:12,rows:18,enableSplitting:!0,drawGrid:!0,widgets:[]},It={components:{CodeDisplay:B.a,ImportDialog:H,PropertyTable:ht,WidgetList:yt},data:function(){var t=this,e=[];return window.Widget&&(e=window.Widget.SUBCLASSES.map((function(e){return{name:e.name,type:e,requiredVersion:t.formatRequiredVersion(e)}}))),{isScaling:!1,isDragging:!1,widgetTypes:e,clickX:0,clickY:0,mouseX:0,mouseY:0,selectedWidgets:[],layout:[],cppCode:"",tsCode:"",updateTimeout:null,undoStack:new R,copyPaster:null,tabsCount:1,activeTab:0,hideCpp:"true"===window.localStorage.getItem("hideCpp"),hideTs:"true"===window.localStorage.getItem("hideTs"),widgets:[]}},computed:{properties:function(){if(1!==this.selectedWidgets.length)return{};for(var t=this.selectedWidgets[0],e={},n={},r=Object.getPrototypeOf(t),o=0,l=Object.entries(r.PROPERTIES);o<l.length;o++){var d=Object(c.a)(l[o],2),h=d[0],f=d[1],v={type:f.type,value:f.get?f.get.call(t):t[h],editable:f.editable,options:f.options,isColor:f.isColor,step:f.step};h in window.Widget.prototype.PROPERTIES?e[h]=v:n[h]=v}var y={General:e};return y[t.constructor.name]=n,y},selectedUuid:function(){return 1===this.selectedWidgets.length?this.selectedWidgets[0].uuid:-1},canUndo:function(){return this.undoStack.canUndo()},canRedo:function(){return this.undoStack.canRedo()}},watch:{activeTab:function(t){St.setCurrentTab(t)},hideCpp:function(){window.localStorage.setItem("hideCpp",this.hideCpp?"true":"false")},hideTs:function(){window.localStorage.setItem("hideTs",this.hideTs?"true":"false")}},mounted:function(){null===St&&(window.nipplejs=Ct,window.IN_RB_GRID_DESIGNER=!0,St=new window.Grid(null,"grid",this.loadLayout()),this.widgets=St.widgets,kt=new f(St,this.onWidgetAdd.bind(this)),this.copyPaster=new y(St),this.updateGridCardWidth(),window.addEventListener("resize",this.updateGridCardWidth.bind(this)),window.addEventListener("mouseup",this.onGridMouseUp.bind(this)),document.addEventListener("keydown",this.onKeyDown.bind(this)),this.scheduleCodeUpdate(),this.tabsCount=St.tabs.length)},methods:{loadLayout:function(){var t=window.localStorage.getItem("layout");return null===t?Ot:this.fixupLegacyLayout(JSON.parse(t))},updateGridCardWidth:function(){var t=document.getElementById("grid-card"),e=function(){var rect=document.getElementById("grid-wrapper").getBoundingClientRect(),e=rect.width,n=rect.width/9*16;n>rect.height&&(e=rect.height/16*9,n=rect.height),t.style.width=e+"px",t.style.height=n+"px",St.onResize()};""===t.style.removeProperty("width")&&""===t.style.removeProperty("height")?e():setTimeout(e,0)},selectWidget:function(t,e){var n=this.selectedWidgets.indexOf(t);-1!==n&&(this.selectedWidgets.splice(n,1),t.el.classList.remove("grid-widget-active")),e&&-1!==n||(t.el.classList.add("grid-widget-active"),this.selectedWidgets.push(t))},onGridMouseDown:function(t){if(0===t.button){this.clickX=t.clientX,this.clickY=t.clientY;var e=t.shiftKey||t.ctrlKey,n=St.getWidgetAtPos(t.clientX,t.clientY);if(null!==n){this.selectWidget(n,e),this.scheduleCodeUpdate();var rect=n.el.getBoundingClientRect();if(!e&&Math.abs(rect.right-t.clientX)<12&&Math.abs(rect.bottom-t.clientY)<12)this.isScaling=!0,this.clearSelection(1),n.mouseOffX=t.clientX-rect.right,n.mouseOffY=t.clientY-rect.bottom,n.origPos=n.pos();else{this.isDragging=!0;var r,o=wt(this.selectedWidgets);try{for(o.s();!(r=o.n()).done;){var c=r.value,l=c.el.getBoundingClientRect();c.mouseOffX=t.clientX-l.left,c.mouseOffY=t.clientY-l.top,c.origPos=c.pos()}}catch(t){o.e(t)}finally{o.f()}}}}},onGridMouseUp:function(t){var e;if(this.isDragging||this.isScaling){var n,r=[],o=wt(this.selectedWidgets);try{for(o.s();!(n=o.n()).done;){var c=n.value;c.pos().equals(c.origPos)||r.push(new L(St,c,c.origPos)),delete c.mouseOffX,delete c.mouseOffY,delete c.origPos}}catch(t){o.e(t)}finally{o.f()}(e=this.undoStack).push.apply(e,r),!(t.shiftKey||t.ctrlKey)&&Math.abs(this.clickX-t.clientX)<4&&Math.abs(this.clickY-t.clientY)<4&&this.clearSelection(1),this.isDragging=!1,this.isScaling=!1}},onGridMouseMove:function(t){if(this.mouseX=t.clientX,this.mouseY=t.clientY,this.isDragging||this.isScaling){var e,n=this.isDragging?St.tryMoveWidget:St.tryScaleWidget,r=wt(this.selectedWidgets);try{for(r.s();!(e=r.n()).done;){var o=e.value;n.call(St,o,t.clientX-o.mouseOffX,t.clientY-o.mouseOffY)&&(this.clickX=0,this.clickY=0)}}catch(t){r.e(t)}finally{r.f()}this.scheduleCodeUpdate()}},clearSelection:function(t){if(!(this.selectedWidgets.length<1+t)){var e,n=wt(this.selectedWidgets.splice(0,this.selectedWidgets.length-t));try{for(n.s();!(e=n.n()).done;){e.value.el.classList.remove("grid-widget-active")}}catch(t){n.e(t)}finally{n.f()}}},onAddWidgetDown:function(t,e){kt.onAddWidgetDown(t,e)},onWidgetAdd:function(t,e,n,r,o){var c=this.generateUuid(),d=this.generateId(t),h=this.activeTab,f=bt(bt({},l[t]),{},{id:d,x:e,y:n,w:r,h:o,tab:h}),v=St.widgets.length;this.undoStack.push(new T(St,c,t,f)),v<St.widgets.length&&this.selectWidget(St.widgets[v],!1),this.scheduleCodeUpdate()},onKeyDown:function(t){var e=this;if(!this.isDragging&&!this.isScaling&&"INPUT"!==t.target.tagName&&"TEXTAREA"!==t.target.tagName)switch(t.key){case"Delete":this.onDeleteClick();break;case"z":if(!t.ctrlKey)return;t.shiftKey?this.onRedoClick():this.onUndoClick();break;case"y":if(!t.ctrlKey)return;this.onRedoClick();break;case"c":if(!t.ctrlKey)return;this.copyPaster.onCopy(this,this.selectedWidgets);break;case"v":var n;if(!t.ctrlKey)return;var o=this.copyPaster.onPaste(this,this.mouseX,this.mouseY);if(!o)return;var c=St.widgets.length,l=o.map((function(t){var n=e.generateUuid();return t.extra.id=e.generateId(t.extra.id),new T(St,n,t.type,t.extra)}));(n=this.undoStack).push.apply(n,Object(r.a)(l)),this.clearSelection(0);for(var i=c;i<St.widgets.length;++i)this.selectWidget(St.widgets[i],!0);this.scheduleCodeUpdate()}},onDeleteClick:function(){var t,e,n=[],r=wt(this.selectedWidgets);try{for(r.s();!(e=r.n()).done;){var o=e.value;n.push(new j(St,o))}}catch(t){r.e(t)}finally{r.f()}(t=this.undoStack).push.apply(t,n),this.clearSelection(0),this.scheduleCodeUpdate()},onUndoClick:function(){this.undoStack.undo(),this.refreshSelectedWidgets(),this.scheduleCodeUpdate()},onRedoClick:function(){this.undoStack.redo(),this.refreshSelectedWidgets(),this.scheduleCodeUpdate()},onImportLayout:function(t){t=this.fixupLegacyLayout(t),this.undoStack.push(new E(St,this.layout,t)),this.selectedWidgets=[],this.scheduleCodeUpdate()},scheduleCodeUpdate:function(){var t=this;null===this.updateTimeout&&(this.updateTimeout=setTimeout((function(){t.updateLayout(),t.updateCpp(),t.updateTimeout=null}),100))},updateLayout:function(){var t,e=[],n=wt(St.widgets);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.push({uuid:r.uuid,type:r.constructor.name,state:r.getState()})}}catch(t){n.e(t)}finally{n.f()}var o={cols:St.COLS,rows:St.ROWS,enableSplitting:St.enableSplitting,widgets:e};window.localStorage.setItem("layout",JSON.stringify(o)),this.layout=o},updateCpp:function(){this.cppCode=N(St.widgets,this.layout),this.tsCode=V(St.widgets,this.layout)},refreshSelectedWidgets:function(){var t=this.selectedWidgets.filter((function(t){return St.widgets.includes(t)}));t.length!==this.selectedWidgets.length&&(this.selectedWidgets=t)},onPropertyInput:function(t,e){if(1===this.selectedWidgets.length){var n={};n[t]=e,this.selectedWidgets[0].applyState(n),this.scheduleCodeUpdate()}},onPropertyChange:function(t,e,n){1===this.selectedWidgets.length&&("id"===t&&(e=e.replace(/[^A-Za-z0-9_]/g,""),/^[A-Za-z]/.test(e)||(e="w"+e),this.onPropertyInput(t,this.generateId(e,!0))),this.undoStack.push(new P(St,this.selectedWidgets[0],t,n,e)),"tab"===t&&(St.moveToTab(this.selectedWidgets[0],e,n),this.tabsCount=St.tabs.length))},generateId:function(t,e){var n=Object.fromEntries(St.widgets.map((function(t){return[t.id,!0]})));if(!0===e&&!(t in n))return t;for(var i=1;;++i){var r="".concat(t).concat(i);if(!(r in n))return r}},generateUuid:function(){var t;do{t=1+65534*Math.random()|0}while(null!==St.getWidgetByUuid(t));return t},isValidUuid:function(t){return t>0&&t<65536},onResetClick:function(){window.confirm("This will reset the whole layout and you will NOT be albe to undo this. Continue?")&&(window.localStorage.removeItem("layout"),window.location.reload())},fixupLegacyLayout:function(t){t.drawGrid=!0;var e,n=wt(t.widgets);try{for(n.s();!(e=n.n()).done;){var r=e.value;void 0===r.state.id&&(r.state.id=this.generateId(r.type)),this.isValidUuid(r.uuid)||(r.uuid=this.generateUuid()),r.tab||(r.tab=0)}}catch(t){n.e(t)}finally{n.f()}return t},formatRequiredVersion:function(t){var e=t.prototype.MIN_LIBRARY_VERSION;return 262144===e?null:"".concat((e>>16).toString(16),".").concat((e>>8&255).toString(16),".").concat((255&e).toString(16))},modifyTabCount:function(t){this.tabsCount+t<1||(this.undoStack.push(new W(this,St,this.tabsCount,this.tabsCount+t)),this.clearSelection(0),this.scheduleCodeUpdate())}}},jt=(n(441),n(460)),Tt=n(464),Lt=n(461),Pt=n(462),Et=n(465),Wt=n(469),Rt=n(454),Ut=Object(Y.a)(It,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"blue-grey lighten-4 layout-container d-flex justify-space-between pa-1"},[n("v-card",{staticClass:"flex-shrink-0",attrs:{width:"200px"}},[n("import-dialog",{staticClass:"mt-4",on:{"import-layout":t.onImportLayout}}),t._v(" "),n("v-card-title",[t._v("Widgets")]),t._v(" "),t._l(t.widgetTypes,(function(e){return n("v-btn",{key:e.name,staticClass:"justify-start add-button",attrs:{block:"",text:"",color:"primary",large:""},on:{mousedown:function(n){return t.onAddWidgetDown(n,e.type)}}},[n("div",[t._v(t._s(e.name))]),t._v(" "),null!==e.requiredVersion?n("div",{staticClass:"text-caption text-right grey--text",staticStyle:{flex:"1"},attrs:{title:"This widget requires GridUI v"+e.requiredVersion+" or higher"}},[t._v("\n        "+t._s(e.requiredVersion)+"\n      ")]):t._e()])})),t._v(" "),n("v-btn",{staticClass:"justify-start mt-12",attrs:{block:"",text:"",color:"accent",title:"Reset the whole designer."},on:{click:t.onResetClick}},[n("v-icon",[t._v("mdi-delete")]),t._v("\n      Reset\n    ")],1)],2),t._v(" "),n("div",{staticClass:"d-flex align-center justify-center my-12 mx-6",staticStyle:{flex:"4 1 0px"},attrs:{id:"grid-wrapper"}},[n("v-card",{attrs:{id:"grid-card"}},[n("div",{attrs:{id:"log"}},[t._v("This is the log.")]),t._v(" "),n("div",{attrs:{id:"grid"},on:{mousedown:t.onGridMouseDown,mousemove:t.onGridMouseMove}})])],1),t._v(" "),n("v-card",{staticClass:"d-flex py-1 flex-column flex-shrink-0",attrs:{width:"250px"}},[n("div",{staticClass:"pa-2 text-right"},[n("v-btn",{attrs:{icon:"",title:"Undo (Ctrl+Z)",disabled:!t.canUndo},on:{click:t.onUndoClick}},[n("v-icon",[t._v("mdi-undo")])],1),t._v(" "),n("v-btn",{attrs:{icon:"",title:"Redo (Ctrl+Y)",disabled:!t.canRedo},on:{click:t.onRedoClick}},[n("v-icon",[t._v("mdi-redo")])],1)],1),t._v(" "),n("v-card-title",{staticClass:"py-0"},[t._v("Properties")]),t._v(" "),n("div",{staticStyle:{"overflow-y":"auto"}},[n("property-table",{attrs:{properties:t.properties,uuid:t.selectedUuid},on:{"prop-input":t.onPropertyInput,"prop-change":t.onPropertyChange}})],1),t._v(" "),1===t.selectedWidgets.length?n("v-btn",{staticClass:"mt-4",attrs:{text:"",color:"accent",title:"You can also press the Delete key on your keyboard."},on:{click:t.onDeleteClick}},[n("v-icon",[t._v("mdi-delete")]),t._v("\n      Delete widget\n    ")],1):t._e(),t._v(" "),n("v-spacer"),t._v(" "),n("WidgetList",{attrs:{widgets:t.widgets,"selected-widgets":t.selectedWidgets},on:{"select-widget":t.selectWidget,"clear-selection":t.clearSelection}}),t._v(" "),n("v-divider"),t._v(" "),n("v-card",[n("v-row",{attrs:{dense:"",align:"center",title:"Tabs require GridUI library v4.9.0 or higher."}},[n("v-col",{staticClass:"shrink"},[n("v-btn",{attrs:{color:"primary",disabled:t.tabsCount<=1,icon:""},on:{click:function(e){return t.modifyTabCount(-1)}}},[n("v-icon",[t._v("mdi-minus")])],1)],1),t._v(" "),n("v-col",{staticClass:"text-center grey--text"},[t._v(" 4.9.0 ")]),t._v(" "),n("v-col",{staticClass:"shrink"},[n("v-btn",{attrs:{color:"primary",icon:""},on:{click:function(e){return t.modifyTabCount(1)}}},[n("v-icon",[t._v("mdi-plus")])],1)],1)],1),t._v(" "),n("v-tabs",{attrs:{"center-active":"",grow:"","show-arrows":""},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[n("v-tabs-slider"),t._v(" "),t._l(t.tabsCount,(function(i){return n("v-tab",{key:i},[t._v(" Tab "+t._s(i-1)+" ")])}))],2)],1)],1),t._v(" "),n("div",{staticClass:"d-flex flex-column ms-2",staticStyle:{height:"100%",flex:"5 1 0px",overflow:"hidden"}},[n("v-card",{staticClass:"mb-1 code-card",staticStyle:{"flex-grow":"0"}},[n("code-display",{attrs:{value:""+JSON.stringify(t.layout,null,4),language:"javascript",title:"Layout JSON",hideable:!0}})],1),t._v(" "),n("v-card",{staticClass:"mt-1 code-card",staticStyle:{"flex-grow":"0"}},[n("code-display",{attrs:{value:t.cppCode,language:"cpp",title:"Generated C++",hideable:!0,hidden:t.hideCpp},on:{"update:hidden":function(e){t.hideCpp=e}}})],1),t._v(" "),n("v-card",{staticClass:"mt-1 code-card",staticStyle:{"flex-grow":"0"}},[n("code-display",{attrs:{value:t.tsCode,language:"typescript",title:"Generated TypeScript",hideable:!0,hidden:t.hideTs},on:{"update:hidden":function(e){t.hideTs=e}}})],1)],1)],1)}),[],!1,null,null,null);e.default=Ut.exports;G()(Ut,{VBtn:X.a,VCard:K.a,VCardTitle:z.b,VCol:jt.a,VDivider:Tt.a,VIcon:F.a,VRow:Lt.a,VSpacer:Pt.a,VTab:Et.a,VTabs:Wt.a,VTabsSlider:Rt.a})}}]);